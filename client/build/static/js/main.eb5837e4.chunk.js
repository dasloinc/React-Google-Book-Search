(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{32:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=a(30),s=a(1),u=a(7),i=a.n(u),m=a(17),p=a(10),d=a(12);a(38);function f(e){return r.a.createElement("span",Object.assign({className:"btn btn-secondary book-controls"},e,{role:"button",tabIndex:"0"}),"Details")}function E(e){return r.a.createElement("span",Object.assign({className:"btn btn-secondary book-controls"},e,{role:"button",tabIndex:"0"}),"Save")}function b(e){return r.a.createElement("span",Object.assign({className:"btn btn-dark book-controls"},e,{role:"button",tabIndex:"0"}),"Remove")}var h=a(29),k=a(9),g=a.n(k),v={getBooks:function(){return g.a.get("/api/books")},getBook:function(e){return g.a.get("/api/books/"+e)},deleteBook:function(e){return g.a.delete("/api/books/"+e)},saveBook:function(){var e=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/books/"+t.id);case 2:if(e.sent.data){e.next=9;break}return e.next=6,g.a.post("/api/books",t);case 6:return e.abrupt("return",{message:"Book saved."});case 9:return e.abrupt("return",{message:"Book already saved."});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchBooks:function(){var e=Object(p.a)(i.a.mark((function e(t){var a,n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(t)));case 2:a=e.sent.data.items,n=[],r=Object(h.a)(a);try{for(r.s();!(l=r.n()).done;)c=l.value,n.push({id:c.id,title:c.volumeInfo.title,authors:c.volumeInfo.authors,description:c.volumeInfo.description,image:c.volumeInfo.imageLinks?c.volumeInfo.imageLinks.thumbnail:"https://books.google.ca/googlebooks/images/no_cover_thumb.gif",link:c.volumeInfo.infoLink})}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function y({fluid:e,children:t}){return r.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function x({fluid:e,children:t}){return r.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function j({size:e,children:t}){return r.a.createElement("div",{className:e?e.split(" ").map(e=>"col-"+e).join(" "):"col"},t)}a(56);function w({children:e}){return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},e))}function O({children:e}){return r.a.createElement("li",{className:"list-group-item"},e)}function N(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function B(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-dark"}),e.children)}var I=function(){const e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(d.a)(c,2),s=o[0],u=o[1];function b(){return(b=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.saveBook(t).then(e=>alert(e.message)).catch(e=>console.log(e));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchBooks(t).then(e=>{l(e)}).catch(e=>console.log(e));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(y,{fluid:!0},r.a.createElement(x,null,r.a.createElement(j,null,r.a.createElement("form",null,r.a.createElement(N,{onChange:e=>{u(Object(m.a)(Object(m.a)({},s),{},{query:e.target.value}))},name:"query",placeholder:"Enter your keywords..."}),r.a.createElement("small",{id:"searchHelp",class:"form-text text-muted"},"Search for any book !"),r.a.createElement(B,{disabled:!s.query,onClick:e=>{e.preventDefault(),function(e){h.apply(this,arguments)}(s.query)}},"Lookup")))),r.a.createElement(x,null,r.a.createElement(j,null,a.length?r.a.createElement(w,null,a.map(e=>r.a.createElement(O,{key:e.id},r.a.createElement(x,null,r.a.createElement(j,{size:"md-3"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:e.title,style:{maxWidth:"100%",height:"auto"}})),r.a.createElement("p",null,r.a.createElement(f,{onClick:()=>{window.open(e.link,"_blank")}}),r.a.createElement(E,{onClick:()=>{!function(e){b.apply(this,arguments)}(e)}}))),r.a.createElement(j,null,r.a.createElement("p",null,r.a.createElement("strong",null,e.title),e.authors?" by "+e.authors:""),r.a.createElement("p",null,e.description)))))):r.a.createElement("h3",null,"No Results to Display"))))};var S=function(){const e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];function c(){v.getBooks().then(e=>l(e.data)).catch(e=>console.log(e))}return Object(n.useEffect)(()=>{c()},[]),r.a.createElement(y,{fluid:!0},r.a.createElement(x,null,r.a.createElement(j,null,r.a.createElement("h1",{style:{marginBottom:"1em"}},"Saved Books"),a.length?r.a.createElement(w,null,a.map(e=>r.a.createElement(O,{key:e._id},r.a.createElement(x,null,r.a.createElement(j,null,r.a.createElement("p",null,r.a.createElement("strong",null,e.title)),r.a.createElement("p",null,e.authors?" Author: "+e.authors:""),r.a.createElement("p",null,e.description)),r.a.createElement(j,{size:"md-3"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:e.title,style:{maxWidth:"100%",height:"auto"}})),r.a.createElement("p",null,r.a.createElement(f,{onClick:()=>{window.open(e.link,"_blank")}}),r.a.createElement(b,{onClick:()=>{var t;t=e.id,v.deleteBook(t).then(()=>c()).catch(e=>console.log(e))}}))))))):r.a.createElement("h3",null,"No Results to Display"))))};a(57);var C=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-secondary mb-3"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Book Search"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("a",{className:"nav-link",href:"/"},"Search"),r.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))};var q=function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(o.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:I}),r.a.createElement(s.a,{exact:!0,path:"/saved",component:S})))};c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.eb5837e4.chunk.js.map